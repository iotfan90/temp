{% extends "base.html" %}
{% load staticfiles i18n %}

{% block content %}
    <div class="row">
        <h1>Magento multiple Facebook ad creator </h1>
    </div>

    <div class="alert alert-info alert-dismissible" role="alert">
      <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
      <strong>Important information!</strong> Here's an <a href="{% static 'other/facebook_ad_example.csv' %}">example of file</a>. Your file should look similar to this, respecting column's order.
    </div>

    <div class="row" ng-controller="FacebookMultipleAdCreatorController">
        <div class="col-sm-10">
        <form id="uploadFileForm" name="uploadFileForm" action="{% url 'facebook:multiple-ad-preview' %}" method="post" enctype="multipart/form-data">
            {% csrf_token %}
          <div class="form-group">
            <label for="UploadFile">Upload file here</label>
            <input type="file" class="form-control-file" id="UploadFile" aria-describedby="fileHelp" name="uploadedFile" ng-model="uploadedFile" valid-file>
            <small id="fileHelp" class="form-text text-muted">Please note, CSV file only</small>
          </div>
          <div class="form-group">
              <select class="form-control" id="APICredentials" name="APICredentials">
                {% for option in fb_credentials %}
                    <option value="{{ option.id }}">{{ option.name }}</option>
                {% endfor %}
              </select>
          </div>
          <button type="button" class="btn serenity" ng-click="uploadFile()" ng-disabled="uploadFileForm.$invalid">Upload
            <i class="fa fa-spinner fa-pulse" ng-show="loading == 1"></i>
          </button>
        </form>
        </div>
    </div>
{% endblock %}
